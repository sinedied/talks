<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Discover NestJS</title>
  <link rel="stylesheet" href="style.css">
  <script src="remark.min.js"></script>
  <script>
    function create() {
      var slideshow = remark.create({
        source: "title: Discover NestJS\nclass: animation-fade\nlayout: true\n\n.twitter-handle[\n  @sinedied\n]\n\n---\nclass: left, hide-handle, full\nbackground-image: url(images/cat.jpg)\nbackground-position: center center\n\n.float-left.w-15.responsive.margin-right.space-right[![](images/nest-logo.svg)]\n\n# Discover NestJS\n### .alt-text[The fastest growing Node.js framework]\n\n.full-layer.who.text-right.small.middle.light-text[\n  .ms.responsive[![](images/ms-full-logo-light.svg)]\n  |\n  Yohan Lasorsa\n  |\n  @sinedied\n]\n\n---\n\nclass: middle, center\n![](images/nodejs-logo.svg)\n\n???\n- Commencons avec la base, Node.js!\n- Qui fait deja du Node.js ici?\n\n- 10 de ans d'existence (2009)\n- Netflix, Paypal, LinkedIn, Yahoo, Ebay, Uber, Groupon, Nasa...\n\n---\n\nclass: middle, center\n\n.w-30.space-right.space-left[\n  .responsive[![](images/express-logo.png)]  \n]\n.w-30.space-right.space-left[\n  .responsive[![](images/hapi-logo.png)]  \n]\n.w-20.space-right.space-left[\n  .responsive[![](images/koa-logo.svg)]  \n]\n.w-35.space-right.space-left[\n  .responsive[![](images/fastify-logo.png)]  \n]\n.w-30.space-right.space-left[\n  .responsive[![](images/restify-logo.svg)]  \n]\n\n???\nIl existe beaucoup de libaries pour faire des APIs\n\n---\n\nclass: dark, contain\nbackground-image: url(images/no-opinion.jpg)\n\n---\n\nbackground-image: url(images/knife.jpg)\n???\n- Here's the tool\n\n---\n\nclass: dark, contain\nbackground-image: url(images/try-survive.jpg)\n???\n- Largu√© dans la jungle avec juste un couteau pour survivre\n\n-> bien utilis√© ca passe, mais...\n\n---\n\nclass: middle, center\n.w-30.space-right.space-left[\n  .responsive[![](images/loopback-logo.svg)]  \n]\n.w-30.space-right.space-left[\n  .responsive[![](images/feathers-logo.png)]  \n]\n.w-30.space-right.space-left[\n  .responsive[![](images/meteor-logo.svg)]  \n]\n.w-30.space-right.space-left[\n  .responsive[![](images/adonis-logo.svg)]  \n]\n.w-25.space-right.space-left[\n  .responsive[![](images/sailsjs-logo.png)]  \n]\n???\n\nIl existe d'autre framework de plus haut niveau, mais y'a toujours un truc qui cloche a l'usage: robustesse, archi, flexibilit√©, quand c'est pas simplement une usine a gaz...\n\n---\n\nclass: dark, contain\nbackground-image: url(images/too-light.jpg)\n???\ndon't bring much\n\n---\n\nclass: dark, contain\nbackground-image: url(images/too-much.jpg)\n???\nbloated\n\n---\n\nclass: dark, contain\nbackground-image: url(images/too-prescriptive.jpg)\n???\nnot flexible\n\n---\n\nclass: contain, dark\nbackground-image: url(images/new-framework.jpg)\n???\nDans la communaut√© JS, on a plutot tendance a c√©l√©brer l'arriv√©e d'un nouveau FW\n\n---\n\nclass: contain, dark\nbackground-image: url(images/backend-new-framework.jpg)\n???\n- A l'inverse, en g√©n√©ral les dev backend pr√©f√®rent s'appuyer sur des techno matures et √©prouv√©es\n- voient rarement d'un bon oeil la nouveaut√©\n\n---\n\nclass: middle, center\n\n.w-30.responsive[![](images/nest-logo.svg)]\n???\nAujourd'hui on va parler NestJS.\n\n---\n\nexclude: true\nclass: full\nbackground-image: url(images/oops.gif)\n???\n- Bon j'espere froisser personne,\n- et peut etre convaincre que c'est techno int√©ressante\n\n---\n\nclass: middle, center, hide-handle\n# .large[Who am I?]\n\n.table.row.middle[\n.col-4.center[\n  .w-70.responsive.avatar.tada.animated[![](images/photo.jpg)]\n]\n.col-8.bit-larger.left[\n  .e[Yohan Lasorsa]<br>\n  .bit-larger[\\[ Cloud Developer Advocate .mini-img[![](images/ms.png)] \\]]<br>\n  .small.em-text[Web tech geek, OSS maintainer, DIY lover]<br>\n  .left[\n  .w-40.responsive[![](images/ngx-rocket.png)]\n  ]\n]\n]\n.center.bit-larger[\n.large.em-text[{]\n.fab.fa-twitter[] .fab.fa-github[] .fab.fa-dev[]\n.large.em-text[}] .e[@sinedied]<br>\n]\n\n???\n\n- For the last 10 years, I've worked as a dev in:\n* research, many ESN projects, product team\n\n- plus de 5 ans d'XP avec Node.js, sur des petit & gros projets en prod, beaucoup d'OSS\n\nNow I started working as a dev advocate, and I'll do just that: advocate for developers :)\n\n---\n\nclass: clist, middle, center, big-text\n# Why NestJS?\n\n- **TypeScript** ‚ù§Ô∏è\n- Driven by Express or Fastify\n- Follows SOLID principles\n- Opinionated\n- 1<sup>st</sup> class CLI\n\n???\n- written in TS!\n- pas entierement nouveau\n\n--\n\n.full-layer.stick-bottom[\n  .w-20.responsive.ib.slideInUp.no-margin.animated.ng-logo[![](images/angular.svg)]\n]\n\n???\n- NestJS takes a lot from Angular: TS, annotations, DI, tooling\n\n---\n\nclass: dark, contain\nbackground-image: url(images/finally.jpg)\n\n---\n\nclass: middle, center, impact\n## .big[NestJS]\n## .alt-text[=]\n## Express or Fastify\n--\n\n## .alt-text[+]\n## Architecture\n???\n+ Abstraction, Structure & Best practices\n--\n\n## .alt-text[+]\n## Tooling\n???\nOutillage qui passe par l'integration directe de \n- Authentication\n- ORM\n- Loggers\n\n---\n\nclass: contain, dark\nbackground-image: url(images/nest-tweet.png)\n???\nC'est le FW Node.js avec la croissance la plus rapide jamais vue\n\n---\n\nclass: impact\n# Let's dive in! ü§ø\n## DEMO TIME\n\n???\n- nest new demo\n- nest start --watch\n- show structure\n- show module\n- show controller\n- add controller, query param, POST+body, status + http requests.http\n\n---\n\nclass: vexpand\n# Controllers\n.responsive[![](images/controller.png)]\n.cli[\n`$ nest generate controller books`\n]\n\n---\n\nclass: center\n# Controllers\n.ib.no-margin[\n```ts\n@Controller('books')\nexport class BooksController {\n\n  @Get()\n  findAll() {\n    return [`Get`, `All`, `The`, `Books`];\n  }\n\n  @Get(':id')\n  find(@Param('id') id: string) {\n    return `Get book with ID #${id}`;\n  }\n\n  @Post()\n  create(@Body() book: BookDto) {\n    return `Create book with name ${book.name}`;\n  }\n}\n```\n]\n\n---\n\nclass: center\n# Controllers\n.ib.no-margin[\n```ts\n*@Controller('books')\nexport class BooksController {\n\n  @Get()\n  findAll() {\n    return [`Get`, `All`, `The`, `Books`];\n  }\n\n  @Get(':id')\n  find(@Param('id') id: string) {\n    return `Get book with ID #${id}`;\n  }\n\n  @Post()\n  create(@Body() book: BookDto) {\n    return `Create book with name ${book.name}`;\n  }\n}\n```\n]\n\n???\n- Annotations + route\n\n---\n\nclass: center\n# Controllers\n.ib.no-margin[\n```ts\n@Controller('books')\nexport class BooksController {\n\n* @Get()\n  findAll() {\n    return [`Get`, `All`, `The`, `Books`];\n  }\n\n* @Get(':id')\n  find(@Param('id') id: string) {\n    return `Get book with ID #${id}`;\n  }\n\n* @Post()\n  create(@Body() book: BookDto) {\n    return `Create book with name ${book.name}`;\n  }\n}\n```\n]\n\n???\n- Route, HTTP verb\n\n---\n\nclass: center\n# Controllers\n.ib.no-margin[\n```ts\n@Controller('books')\nexport class BooksController {\n\n  @Get()\n  findAll() {\n    return [`Get`, `All`, `The`, `Books`];\n  }\n\n* @Get(':id')\n* find(@Param('id') id: string) {\n*   return `Get book with ID #${id}`;\n* }\n\n  @Post()\n  create(@Body() book: BookDto) {\n    return `Create book with name ${book.name}`;\n  }\n}\n```\n]\n\n???\n- Route params\n\n\n---\n\nclass: center\n# Controllers\n.ib.no-margin[\n```ts\n@Controller('books')\nexport class BooksController {\n\n  @Get()\n  findAll() {\n    return [`Get`, `All`, `The`, `Books`];\n  }\n\n  @Get(':id')\n  find(@Param('id') id: string) {\n    return `Get book with ID #${id}`;\n  }\n\n* @Post()\n* create(@Body() book: BookDto) {\n*   return `Create book with name ${book.name}`;\n* }\n}\n```\n]\n\n???\n- Body\n\n---\n\nclass: center\n# Controllers\n.ib.no-margin[\n```ts\n@Controller('books')\nexport class BooksController {\n\n  @Get()\n* findAll(@Query('name')) {\n    return [/* All book with matching name */];\n  }\n\n  @Post()\n  @HttpCode(204)\n  create(@Body() book: BookDto) {\n    return `Book will be created later`;\n  }\n\n  @Delete(':id')\n  remove(@Req() req, @Res() res, @Next() next) {\n    return res.send(`Deleted ${req.params.id}`)\n  }\n}\n```\n]\n\n???\n- query params\n\n---\n\nclass: center\n# Controllers\n.ib.no-margin[\n```ts\n@Controller('books')\nexport class BooksController {\n\n  @Get()\n  findAll(@Query('name')) {\n    return [/* All book with matching name */];\n  }\n\n  @Post()\n* @HttpCode(204)\n  create(@Body() book: BookDto) {\n    return `Book will be created later`;\n  }\n\n  @Delete(':id')\n  remove(@Req() req, @Res() res, @Next() next) {\n    return res.send(`Deleted ${req.params.id}`)\n  }\n}\n```\n]\n???\n- status code\n\n---\n\nclass: center\n# Controllers\n.ib.no-margin[\n```ts\n@Controller('books')\nexport class BooksController {\n\n  @Get()\n  findAll(@Query('name')) {\n    return [/* All book with matching name */];\n  }\n\n  @Post()\n  @HttpCode(204)\n  create(@Body() book: BookDto) {\n    return `Book will be created later`;\n  }\n\n  @Delete(':id')\n* remove(@Req() req, @Res() res, @Next() next) {\n    return res.send(`Deleted ${req.params.id}`)\n  }\n}\n```\n]\n???\n- underlying req/res object\n\n---\n\nclass: vexpand\n# Providers\n.responsive[![](images/providers.png)]\n.cli[\n`$ nest generate service books`\n]\n\n---\n\nclass: center\n# Providers\n.ib.no-margin[\n```ts\n@Injectable()\nexport class BooksService {\n  private readonly books: Books[] = [];\n\n  findAll(): Books[] {\n    return this.books;\n  }\n\n  find(id: string): Book {\n    return this.books.find(b => b.id === id);\n  }\n\n  create(book: Book) {\n    this.books.push(book);\n  }\n}\n```\n]\n\n---\n\nclass: center\n# Providers\n.ib.no-margin[\n```ts\n*@Injectable()\nexport class BooksService {\n  private readonly books: Books[] = [];\n\n  findAll(): Books[] {\n    return this.books;\n  }\n\n  find(id: string): Book {\n    return this.books.find(b => b.id === id);\n  }\n\n  create(book: Book) {\n    this.books.push(book);\n  }\n}\n```\n]\n\n---\n\nclass: center\n# Dependency Injection\n.ib.no-margin[\n```ts\n@Controller('books')\nexport class BooksController {\n* constructor(private readonly booksService: BooksService) {}\n\n  @Get()\n  async findAll() {\n    return this.booksService.findAll();\n  }\n\n  @Get(':id')\n  async find(@Param('id') id: string) {\n    return this.booksService.find(id);\n  }\n\n  @Post()\n  async create(@Body() book: BookDto) {\n    return this.booksService.create(book);\n  }\n}\n```\n]\n???\n- Why DI? decouplage, tests\n\n---\n\nclass: vexpand, center\n# Modules\n.w-90.responsive[![](images/modules.png)]\n.cli[\n`$ nest generate module books`\n]\n\n---\n\nclass: center\n# Modules\n.ib.no-margin[\n```ts\n// books/books.module.ts\n@Module({\n  controllers: [BooksController],\n  providers: [BooksService],\n  exports: [BooksService]\n})\nexport class BooksModule {}\n```\n]\n--\n\n<br><br>\n.ib.no-margin[\n```ts\n// app.module.ts\n@Module({\n  controllers: [AppController],  \n  providers: [],\n* imports: [BooksModule]\n})\nexport class AppModule {}\n```\n]\n\n???\n- organize your app by domain/features\n- no global service\n\n---\n\nclass: vexpand\n# Pipes\n.responsive[![](images/pipes.png)]\n\n.bl[\n### Typical use cases\n- Transformation\n- Validation\n]\n\n.cli[\n`$ nest generate pipe validation`\n]\n\n---\n\nclass: center\n# Pipes\n.ib.no-margin[\n```ts\n@Injectable()\nexport class ValidationPipe implements PipeTransform {\n  transform(value: any, metadata: ArgumentMetadata) {\n    // Do something\n    return value;\n  }\n}\n```\n]\n\n---\n\nclass: center\n# Pipes\n\n.ib.no-margin[\n### Use in method\n```ts\n@Post()\n*@UsePipes(ValidationPipe)\nasync create(@Body() book: BookDto) {              \n  this.booksService.create(book);\n}\n```\n]\n--\n\n.ib.no-margin[\n<br>\n### Use in param\n```ts\n@Post()\n*async create(@Body(ValidationPipe) book: BookDto) {\n  this.booksService.create(book);\n}\n```\n]\n\n---\n\nclass: center\n# Pipes\n\n.ib.no-margin[\n### Use Globally\n```ts\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n* app.useGlobalPipes(new ValidationPipe());\n  await app.listen(3000);\n}\n```\n]\n\n---\n\nclass: center\n# Pipes\n\n.ib.no-margin[\n### Type-based validation\n```ts\nimport { IsNotEmpty, IsOptional, IsDate, MaxLength } from 'class-validator';\n\nexport class BookDto {\n  @IsNotEmpty()\n  name: string;\n\n  @IsOptional()\n  @MaxLength(240)\n  description: string;\n\n  @IsOptional()\n  @IsDate()\n  createdAt: Date;\n}\n```\n]\n\n---\n\nclass: center, no-bullet\n# There's .large[**MORE**!] ü§©\n\n.w-50.float-left.large[\n- Exception filters\n- Interceptors\n- Guards\n- Authentication\n- ORM\n- Caching\n]\n.w-50.float-left.large[\n- Microservices\n- GraphQL\n- Websockets\n- CQRS\n- OpenAPI\n- ...\n]\n\n---\n\nclass: impact\n## .large[NestJS ‚ù§Ô∏è Serverless]\n\n---\n\nclass: big-text, middle, center, clist, no-bullet\n\n# Serverless?\n- .eb[üôå] Fully managed\n- .eb[üìà] Auto-scale\n- .eb[üíµ] Pay as you go\n- .eb[üå±] No wasted resources\n\n---\n\nclass: contain, middle, center\nbackground-image: url(images/nitro-web.png)\n### .large[https://nitr.ooo]\n\n---\n\nclass: hide-handle, middle\n\n# Thank you!\n\n.side-layer.right.through.no-margin[\n  <div style=\"height: .5em\"></div>\n  .w-15.responsive[![](images/bit-learning.png)]\n]\n\n.baseline[\n- .w-30[[nestjs.org](https://nestjs.org)] ‚Üí NestJS website\n- .w-30[[aka.ms/nitro-ws](https://aka.ms/nitro-ws)] ‚Üí Hands-on Nitro workshop\n- .w-30[[aka.ms/go/serverless](https://aka.ms/go/serverless)] ‚Üí Learn more about Azure Serverless\n]\n<hr class=\"hr-right more-space\">\n\n.col-4.small.text-left.float-left[\n<div style=\"height: .5em\"></div><br>\nSlides:<br>\n.large[bit.ly/nest-intro]\n]\n.col-3.float-left[\n  &nbsp;\n]\n.col-5.right.large.middle.float-left[\n.large.em-text[{]\n.fab.fa-twitter[] .fab.fa-github[] .fab.fa-dev[]\n.large.em-text[}] .e[@sinedied]<br>\n]\n\n<!--\nD√©couvrez NestJS, le framework Node.js qui monte!\n\n(# Node.js, mais pourquoi?\n- Migration: Paypal & co\n- Fullstack\n- Node is the new Ruby\n- VS Java, VS .Net Core)\n\n# NestJS?\n- NestJS = Express or Fastify + structure, abstraction, guidance and best practices\n- NestJS takes a lot from Angular: TS, annotations, DI, tooling\n\n# Getting started with CLI (DEMO)\n- boostrap\n- architecture\n- generators\n- testing, build, deployment\n\n# Controllers\n# Services\n# Pipes, interceptors\n# Validation\n# And more: GraphQL, Microservices, WebSockets & Swagger\n-->",
        ratio: '16:9',
        highlightLines: true,
        countIncrementalSlides: false,
        highlightStyle: 'github'
      });
      slideshow.on('showSlide', function (slide) {
        var v = slide.properties.video;
        if (v) {
          var video = window[v];
          video = video.play ? video : video[0];
          video.currentTime = 0;
          video.play();
        }
      });
      return slideshow;
    }
  </script>
</head>
<body onload="slideshow = create()">
</body>
</html>